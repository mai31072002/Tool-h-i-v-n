{"ast":null,"code":"import axios from \"axios\";\nimport apiConfig from \"../../../../configs/api.config\";\nimport jwtService from \"../../../../services/jwt\";\nexport const FORECAST_ERROR = \"FORECAST_ERROR\";\nexport const FORECAST_FETCHING = \"FORECAST_FETCHING\";\nexport const FORECAST_DATA_FETCHED = \"FORECAST_DATA_FETCHED\";\nexport const fetchDataForecastWithType = param => async dispatch => {\n  axios.defaults.headers.common.Authorization = `Bearer ${localStorage.getItem(apiConfig.accessTokenKey)}`;\n  dispatch({\n    type: FORECAST_FETCHING\n  });\n  try {\n    const res = await axios.post(\"/wind-electricity/get-data-by-type-forecast\", param);\n    dispatch({\n      type: FORECAST_DATA_FETCHED,\n      payload: res.data\n    });\n  } catch (error) {\n    if (error.response && error.response.status === 401) {\n      let tokenNew = null;\n      if (!tokenNew) {\n        tokenNew = jwtService.signInWithToken();\n        axios.defaults.headers.common.Authorization = `Bearer ${tokenNew}`;\n        const res = await axios.post(\"/wind-electricity/get-data-by-type-forecast\", param);\n        dispatch({\n          type: FORECAST_DATA_FETCHED,\n          payload: res.data\n        });\n      }\n    } else {\n      dispatch({\n        type: FORECAST_ERROR,\n        payload: error\n      });\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["axios","apiConfig","jwtService","FORECAST_ERROR","FORECAST_FETCHING","FORECAST_DATA_FETCHED","fetchDataForecastWithType","param","dispatch","defaults","headers","common","Authorization","localStorage","getItem","accessTokenKey","type","res","post","payload","data","error","response","status","tokenNew","signInWithToken"],"sources":["D:/project-individual/reactjs/tool-hai-van-frontend/src/app/main/forecast/store/actions/forecast.action.js"],"sourcesContent":["import axios from \"axios\";\r\nimport apiConfig from \"../../../../configs/api.config\";\r\nimport jwtService from \"../../../../services/jwt\";\r\n\r\nexport const FORECAST_ERROR = \"FORECAST_ERROR\";\r\nexport const FORECAST_FETCHING = \"FORECAST_FETCHING\";\r\nexport const FORECAST_DATA_FETCHED = \"FORECAST_DATA_FETCHED\";\r\n\r\nexport const fetchDataForecastWithType = (param) => async (dispatch) => {\r\n  axios.defaults.headers.common.Authorization = `Bearer ${localStorage.getItem(\r\n    apiConfig.accessTokenKey\r\n  )}`;\r\n  dispatch({ type: FORECAST_FETCHING });\r\n  try {\r\n    const res = await axios.post(\r\n      \"/wind-electricity/get-data-by-type-forecast\",\r\n      param\r\n    );\r\n    dispatch({\r\n      type: FORECAST_DATA_FETCHED,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    if (error.response && error.response.status === 401) {\r\n      let tokenNew = null;\r\n      if (!tokenNew) {\r\n        tokenNew = jwtService.signInWithToken();\r\n\r\n        axios.defaults.headers.common.Authorization = `Bearer ${tokenNew}`;\r\n        const res = await axios.post(\r\n          \"/wind-electricity/get-data-by-type-forecast\",\r\n          param\r\n        );\r\n        dispatch({\r\n          type: FORECAST_DATA_FETCHED,\r\n          payload: res.data,\r\n        });\r\n      }\r\n    } else {\r\n      dispatch({\r\n        type: FORECAST_ERROR,\r\n        payload: error,\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,gCAAgC;AACtD,OAAOC,UAAU,MAAM,0BAA0B;AAEjD,OAAO,MAAMC,cAAc,GAAG,gBAAgB;AAC9C,OAAO,MAAMC,iBAAiB,GAAG,mBAAmB;AACpD,OAAO,MAAMC,qBAAqB,GAAG,uBAAuB;AAE5D,OAAO,MAAMC,yBAAyB,GAAIC,KAAK,IAAK,MAAOC,QAAQ,IAAK;EACtER,KAAK,CAACS,QAAQ,CAACC,OAAO,CAACC,MAAM,CAACC,aAAa,GAAG,UAAUC,YAAY,CAACC,OAAO,CAC1Eb,SAAS,CAACc,cACZ,CAAC,EAAE;EACHP,QAAQ,CAAC;IAAEQ,IAAI,EAAEZ;EAAkB,CAAC,CAAC;EACrC,IAAI;IACF,MAAMa,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAC1B,6CAA6C,EAC7CX,KACF,CAAC;IACDC,QAAQ,CAAC;MACPQ,IAAI,EAAEX,qBAAqB;MAC3Bc,OAAO,EAAEF,GAAG,CAACG;IACf,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACnD,IAAIC,QAAQ,GAAG,IAAI;MACnB,IAAI,CAACA,QAAQ,EAAE;QACbA,QAAQ,GAAGtB,UAAU,CAACuB,eAAe,CAAC,CAAC;QAEvCzB,KAAK,CAACS,QAAQ,CAACC,OAAO,CAACC,MAAM,CAACC,aAAa,GAAG,UAAUY,QAAQ,EAAE;QAClE,MAAMP,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAC1B,6CAA6C,EAC7CX,KACF,CAAC;QACDC,QAAQ,CAAC;UACPQ,IAAI,EAAEX,qBAAqB;UAC3Bc,OAAO,EAAEF,GAAG,CAACG;QACf,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACLZ,QAAQ,CAAC;QACPQ,IAAI,EAAEb,cAAc;QACpBgB,OAAO,EAAEE;MACX,CAAC,CAAC;MACF,MAAMA,KAAK;IACb;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}