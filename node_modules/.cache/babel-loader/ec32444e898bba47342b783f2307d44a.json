{"ast":null,"code":"import jwtService from \"app/services/jwt\";\nimport * as UserActions from \"./user.action\";\n// import axios from \"axios\";\nexport const AUTH_ERROR = \"AUTH_ERROR\";\nexport const AUTH_SUCCESSS = \"AUTH_SUCCESSS\";\nexport const AUTH_LOADING = \"AUTH_LOADING\";\nexport const AUTH_FETCH = \"AUTH_FETCH\";\nexport const AUTH_RESET = \"AUTH_RESET\";\nexport const register = ({\n  email,\n  password\n}) => dispatch => {\n  dispatch({\n    type: AUTH_LOADING\n  });\n  jwtService.register(email, password).then(() => dispatch({\n    type: AUTH_SUCCESSS\n  })).catch(error => {\n    dispatch({\n      type: AUTH_ERROR,\n      payload: error\n    });\n    window.alert(error);\n  });\n};\nexport const submitLogin = param => dispatch => {\n  dispatch({\n    type: AUTH_LOADING\n  });\n  return jwtService.signInWithUsernameAndPassword(param).then(user => {\n    dispatch(UserActions.setUserData(user));\n    dispatch({\n      type: AUTH_SUCCESSS\n    });\n    dispatch({\n      type: AUTH_FETCH,\n      payload: user.data\n    });\n    return user;\n  }).catch(error => {\n    dispatch({\n      type: AUTH_ERROR,\n      payload: error\n    });\n    throw error;\n  });\n};\nexport const logout = () => dispatch => {\n  dispatch({\n    type: AUTH_RESET\n  });\n  return jwtService.logout();\n};","map":{"version":3,"names":["jwtService","UserActions","AUTH_ERROR","AUTH_SUCCESSS","AUTH_LOADING","AUTH_FETCH","AUTH_RESET","register","email","password","dispatch","type","then","catch","error","payload","window","alert","submitLogin","param","signInWithUsernameAndPassword","user","setUserData","data","logout"],"sources":["D:/project-individual/reactjs/tool-hai-van-frontend/src/app/auth/store/actions/auth.action.js"],"sourcesContent":["import jwtService from \"app/services/jwt\";\r\nimport * as UserActions from \"./user.action\";\r\n// import axios from \"axios\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\nexport const AUTH_SUCCESSS = \"AUTH_SUCCESSS\";\r\nexport const AUTH_LOADING = \"AUTH_LOADING\";\r\nexport const AUTH_FETCH = \"AUTH_FETCH\";\r\nexport const AUTH_RESET = \"AUTH_RESET\";\r\n\r\nexport const register =\r\n  ({ email, password }) =>\r\n  (dispatch) => {\r\n    dispatch({ type: AUTH_LOADING });\r\n\r\n    jwtService\r\n      .register(email, password)\r\n      .then(() => dispatch({ type: AUTH_SUCCESSS }))\r\n      .catch((error) => {\r\n        dispatch({\r\n          type: AUTH_ERROR,\r\n          payload: error,\r\n        });\r\n        window.alert(error);\r\n      });\r\n  };\r\n\r\nexport const submitLogin = (param) => (dispatch) => {\r\n  dispatch({ type: AUTH_LOADING });\r\n  return jwtService\r\n    .signInWithUsernameAndPassword(param)\r\n    .then((user) => {\r\n      dispatch(UserActions.setUserData(user));\r\n      dispatch({ type: AUTH_SUCCESSS });\r\n      dispatch({\r\n        type: AUTH_FETCH,\r\n        payload: user.data,\r\n      });\r\n      return user;\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: AUTH_ERROR,\r\n        payload: error,\r\n      });\r\n\r\n      throw error;\r\n    });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  dispatch({\r\n    type: AUTH_RESET,\r\n  });\r\n  return jwtService.logout();\r\n};\r\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,kBAAkB;AACzC,OAAO,KAAKC,WAAW,MAAM,eAAe;AAC5C;AACA,OAAO,MAAMC,UAAU,GAAG,YAAY;AACtC,OAAO,MAAMC,aAAa,GAAG,eAAe;AAC5C,OAAO,MAAMC,YAAY,GAAG,cAAc;AAC1C,OAAO,MAAMC,UAAU,GAAG,YAAY;AACtC,OAAO,MAAMC,UAAU,GAAG,YAAY;AAEtC,OAAO,MAAMC,QAAQ,GACnBA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,KACnBC,QAAQ,IAAK;EACZA,QAAQ,CAAC;IAAEC,IAAI,EAAEP;EAAa,CAAC,CAAC;EAEhCJ,UAAU,CACPO,QAAQ,CAACC,KAAK,EAAEC,QAAQ,CAAC,CACzBG,IAAI,CAAC,MAAMF,QAAQ,CAAC;IAAEC,IAAI,EAAER;EAAc,CAAC,CAAC,CAAC,CAC7CU,KAAK,CAAEC,KAAK,IAAK;IAChBJ,QAAQ,CAAC;MACPC,IAAI,EAAET,UAAU;MAChBa,OAAO,EAAED;IACX,CAAC,CAAC;IACFE,MAAM,CAACC,KAAK,CAACH,KAAK,CAAC;EACrB,CAAC,CAAC;AACN,CAAC;AAEH,OAAO,MAAMI,WAAW,GAAIC,KAAK,IAAMT,QAAQ,IAAK;EAClDA,QAAQ,CAAC;IAAEC,IAAI,EAAEP;EAAa,CAAC,CAAC;EAChC,OAAOJ,UAAU,CACdoB,6BAA6B,CAACD,KAAK,CAAC,CACpCP,IAAI,CAAES,IAAI,IAAK;IACdX,QAAQ,CAACT,WAAW,CAACqB,WAAW,CAACD,IAAI,CAAC,CAAC;IACvCX,QAAQ,CAAC;MAAEC,IAAI,EAAER;IAAc,CAAC,CAAC;IACjCO,QAAQ,CAAC;MACPC,IAAI,EAAEN,UAAU;MAChBU,OAAO,EAAEM,IAAI,CAACE;IAChB,CAAC,CAAC;IACF,OAAOF,IAAI;EACb,CAAC,CAAC,CACDR,KAAK,CAAEC,KAAK,IAAK;IAChBJ,QAAQ,CAAC;MACPC,IAAI,EAAET,UAAU;MAChBa,OAAO,EAAED;IACX,CAAC,CAAC;IAEF,MAAMA,KAAK;EACb,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMU,MAAM,GAAGA,CAAA,KAAOd,QAAQ,IAAK;EACxCA,QAAQ,CAAC;IACPC,IAAI,EAAEL;EACR,CAAC,CAAC;EACF,OAAON,UAAU,CAACwB,MAAM,CAAC,CAAC;AAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}